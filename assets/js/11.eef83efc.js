(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{294:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"replication-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replication-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Replication Configuration")]),s("h2",{attrs:{id:"enabling-replication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enabling-replication","aria-hidden":"true"}},[e._v("#")]),e._v(" Enabling Replication")]),s("p",[e._v("If replicating over SSH, ensure the host key of the remote system(s) is already in the Gerrit user's "),s("code",[e._v("~/.ssh/known_hosts")]),e._v(" file. The easiest way to add the host key is to connect once by hand with the command line:")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  sudo su -c 'ssh mirror1.us.some.org echo' gerrit2\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('  [remote "host-one"]\n    url = gerrit2@host-one.example.com:/some/path/${name}.git\n\n  [remote "pubmirror"]\n    url = mirror1.us.some.org:/pub/git/${name}.git\n    url = mirror2.us.some.org:/pub/git/${name}.git\n    url = mirror3.us.some.org:/pub/git/${name}.git\n    push = +refs/heads/*:refs/heads/*\n    push = +refs/tags/*:refs/tags/*\n    threads = 3\n    authGroup = Public Mirror Group\n    authGroup = Second Public Mirror Group\n')])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("p",[e._v("Then reload the replication plugin to pick up the new configuration:")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  ssh -p 29418 localhost gerrit plugin reload replication\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("To manually trigger replication at runtime, see SSH command start.")]),s("h2",{attrs:{id:"file-replication-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-replication-config","aria-hidden":"true"}},[e._v("#")]),e._v(" File replication.config")]),s("p",[e._v("The optional file "),s("code",[e._v("$site_path/etc/replication.config")]),e._v(" is a Git-style config file that controls the replication settings for the replication plugin.")]),s("p",[e._v("The file is composed of one or more "),s("code",[e._v("remote")]),e._v(" sections, each remote section provides common configuration settings for one or more destination URLs.")]),s("p",[e._v("Each remote section uses its own thread pool. If pushing to multiple remotes, over differing types of network connections (e.g. LAN and also public Internet), its a good idea to put them into different remote sections, so that replication to the slower connection does not starve out the faster local one. The example file above does this.")]),s("p",[e._v("In the keys below, the "),s("code",[e._v("NAME")]),e._v(" portion is unused by this plugin, but must be unique to distinguish the different sections if more than one remote section appears in the file.")]),s("h3",{attrs:{id:"gerrit-replicateonstartup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gerrit-replicateonstartup","aria-hidden":"true"}},[e._v("#")]),e._v(" gerrit.replicateOnStartup")]),s("p",[e._v("If true, replicates to all remotes on startup to ensure they are in-sync with this server. By default, false.")]),s("h3",{attrs:{id:"gerrit-autoreload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gerrit-autoreload","aria-hidden":"true"}},[e._v("#")]),e._v(" gerrit.autoReload")]),s("p",[e._v("If true, automatically reloads replication destinations and settings after "),s("code",[e._v("replication.config")]),e._v(" file is updated, without the need to restart the replication plugin. When the reload takes place, pending replication events based on old settings are discarded. By default, false.")]),s("h3",{attrs:{id:"gerrit-defaultforceupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gerrit-defaultforceupdate","aria-hidden":"true"}},[e._v("#")]),e._v(" gerrit.defaultForceUpdate")]),s("p",[e._v("If true, the default push refspec will be set to use forced update to the remote when no refspec is given. By default, false.")]),s("h3",{attrs:{id:"replication-lockerrormaxretries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replication-lockerrormaxretries","aria-hidden":"true"}},[e._v("#")]),e._v(" replication.lockErrorMaxRetries")]),s("p",[e._v("Number of times to retry a replication operation if a lock error is detected.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('If two or more replication operations (to the same GIT and Ref)\nare scheduled at approximately the same time (and end up on different\nreplication threads), there is a large probability that the last\npush to complete will fail with a remote "failure to lock" error.\nThis option allows Gerrit to retry the replication push when the\n"failure to lock" error is detected.\n\nA good value would be 3 retries or less, depending on how often\nyou see lockError collisions in your server logs. A too highly set\nvalue risks keeping around the replication operations in the queue\nfor a long time, and the number of items in the queue will increase\nwith time.\n\nNormally Gerrit will succeed with the replication during its first\nretry, but in certain edge cases (e.g. a mirror introduces a ref\nnamespace with the same name as a branch on the master) the retry\nwill never succeed.\n\nThe issue can also be mitigated somewhat by increasing the\nreplicationDelay.\n\nDefault: 0 (disabled, i.e. never retry)\n')])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br")])]),s("h3",{attrs:{id:"replication-maxretries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replication-maxretries","aria-hidden":"true"}},[e._v("#")]),e._v(" replication.maxRetries")]),s("p",[e._v("Maximum number of times to retry a push operation that previously failed.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("When a push operation reaches its maximum number of retries,\nthe replication event is discarded from the queue and the remote\ndestinations may remain out of sync.\n\nCan be overridden at remote-level by setting replicationMaxRetries.\n\nBy default, pushes are retried indefinitely.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("h3",{attrs:{id:"replication-eventsdirectory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replication-eventsdirectory","aria-hidden":"true"}},[e._v("#")]),e._v(" replication.eventsDirectory")]),s("p",[e._v("Directory where replication events are persisted")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("When scheduling a replication, the replication event is persisted\nunder this directory. When the replication is done, the event is deleted.\nIf plugin is stopped before all scheduled replications are done, the\npersisted events will not be deleted. When the plugin is started again,\nit will trigger all replications found under this directory.\n\nWhen not set, defaults to the plugin's data directory.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("h3",{attrs:{id:"remote-name-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-url","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.url")]),s("p",[e._v("Address of the remote server to push to. Multiple URLs may be specified within a single remote block, listing different destinations which share the same settings. Assuming sufficient threads in the thread pool, Gerrit pushes to all URLs in parallel, using one thread per URL.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Within each URL value the magic placeholder `${name}` is\nreplaced with the Gerrit project name.  This is a Gerrit\nspecific extension to the otherwise standard Git URL syntax\nand it must be included in each URL so that Gerrit can figure\nout where each project needs to be replicated. `${name}` may\nonly be omitted if the remote refers to a single repository\n(i.e.: Exactly one [remote.NAME.projects][3] and that name's\nvalue is a single project match.).\n\nSee [git push][1] for details on Git URL syntax.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br")])]),s("h3",{attrs:{id:"remote-name-adminurl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-adminurl","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.adminUrl")]),s("p",[e._v("Address of the alternative remote server only for repository creation. Multiple URLs may be specified within a single remote block, listing different destinations which share the same settings.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("The adminUrl can be used as an ssh alternative to the url\noption, but only related to repository creation.  If not\nspecified, the repository creation tries to follow the default\nway through the url value specified.\n\nIt is useful when the remote.NAME.url protocols do not allow\nrepository creation although their usage is mandatory in the\nlocal environment.  In that case, an alternative SSH url could\nbe specified to repository creation.\n\nTo enable replication to different Gerrit instance use `gerrit+ssh://`\nas protocol name followed by hostname of another Gerrit server eg.\n\n`gerrit+ssh://replica1.my.org/`\n\nIn this case replication will use Gerrit's SSH API to\ncreate/remove projects and update repository HEAD references.\n\nNOTE: In order to replicate project deletion, the\nlink:https://gerrit-review.googlesource.com/admin/projects/plugins/delete-project delete-project[delete-project]\nplugin must be installed on the other Gerrit.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br")])]),s("h3",{attrs:{id:"remote-name-receivepack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-receivepack","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.receivepack")]),s("p",[e._v("Path of the "),s("code",[e._v("git-receive-pack")]),e._v(" executable on the remote system, if using the SSH transport.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Defaults to `git-receive-pack`.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-uploadpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-uploadpack","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.uploadpack")]),s("p",[e._v("Path of the "),s("code",[e._v("git-upload-pack")]),e._v(" executable on the remote system, if using the SSH transport.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Defaults to `git-upload-pack`.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-push"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-push","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.push")]),s("p",[e._v("Standard Git refspec denoting what should be replicated. Setting this to "),s("code",[e._v("+refs/heads/*:refs/heads/*")]),e._v(" would mirror only the active branches, but not the change refs under "),s("code",[e._v("refs/changes/")]),e._v(", or the tags under "),s("code",[e._v("refs/tags/")]),e._v(".")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Note that prefixing a source refspec with `+` causes the replication\nto be done with a `git push --force` command.\nBe aware that when you are pushing to remote repositories that may\nhave read/write access (e.g. GitHub) you may want to omit the `+`\nto prevent the risk of overwriting branches that have been modified\non the remote.\n\nMultiple push keys can be supplied, to specify multiple\npatterns to match against.  In the [example above][2], remote\n\"pubmirror\" uses two push keys to match both `refs/heads/*`\nand `refs/tags/*`, but excludes all others, including\n`refs/changes/*`.\n\nDefaults to `refs/*:refs/*` (push all refs) if not specified,\nor `+refs/*:refs/*` (force push all refs) if not specified and\n`gerrit.defaultForceUpdate` is true.\n\nNote that the `refs/meta/config` branch is only replicated\nwhen `replicatePermissions` is true, even if the push refspec\nis 'all refs'.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br")])]),s("h3",{attrs:{id:"remote-name-timeout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-timeout","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.timeout")]),s("p",[e._v("Number of seconds to wait for a network read or write to complete before giving up and declaring the remote side is not responding. If 0, there is no timeout, and the push client waits indefinitely.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("A timeout should be large enough to mostly transfer the\nobjects to the other side.  1 second may be too small for\nlarger projects, especially over a WAN link, while 10-30\nseconds is a much more reasonable timeout value.\n\nDefaults to 0 seconds, wait indefinitely.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicationdelay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicationdelay","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicationDelay")]),s("p",[e._v("Time to wait before scheduling a remote push operation. Setting the delay to 0 effectively disables the delay, causing the push to start as soon as possible.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("This is a Gerrit specific extension to the Git remote block.\n\nBy default, 15 seconds.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h3",{attrs:{id:"remote-name-rescheduledelay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-rescheduledelay","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.rescheduleDelay")]),s("p",[e._v("Delay when rescheduling a push operation due to an in-flight push running for the same project.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Cannot be set to a value lower than 3 seconds to avoid a tight loop\nof schedule/run which could cause 1K+ retries per second.\n\nA configured value lower than 3 seconds will be rounded to 3 seconds.\n\nBy default, 3 seconds.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicationretry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicationretry","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicationRetry")]),s("p",[e._v("Time to wait before scheduling a remote push operation previously failed due to an offline remote server.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("If a remote push operation fails because a remote server was\noffline, all push operations to the same destination URL are\nblocked, and the remote push is continuously retried unless\nthe replicationMaxRetries value is set.\n\nThis is a Gerrit specific extension to the Git remote block.\n\nBy default, 1 minute.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicationmaxretries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicationmaxretries","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicationMaxRetries")]),s("p",[e._v("Maximum number of times to retry a push operation that previously failed.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("When a push operation reaches its maximum number of retries\nthe replication event is discarded from the queue and the remote\ndestinations could be out of sync.\n\nThis is a Gerrit specific extension to the Git remote block.\n\nBy default, use replication.maxRetries.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("h3",{attrs:{id:"remote-name-threads"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-threads","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.threads")]),s("p",[e._v("Number of worker threads to dedicate to pushing to the repositories described by this remote. Each thread can push one project at a time, to one destination URL. Scheduling within the thread pool is done on a per-project basis. If a remote block describes 4 URLs, allocating 4 threads in the pool will permit some level of parallel pushing.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, 1 thread.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-authgroup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-authgroup","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.authGroup")]),s("p",[e._v("Specifies the name of a group that the remote should use to access the repositories. Multiple authGroups may be specified within a single remote block to signify a wider access right. In the project administration web interface the read access can be specified for this group to control if a project should be replicated or not to the remote.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, replicates without group control, i.e. replicates\neverything to all remotes.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h3",{attrs:{id:"remote-name-createmissingrepositories"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-createmissingrepositories","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.createMissingRepositories")]),s("p",[e._v("If true, a repository is automatically created on the remote site. If the remote site was not available at the moment when a new project was created, it will be created if during the replication of a ref it is found to be missing.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("If false, repositories are never created automatically on this\nremote.\n\nBy default, true, missing repositories are created.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicatepermissions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicatepermissions","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicatePermissions")]),s("p",[e._v("If true, permissions-only projects and the refs/meta/config branch will also be replicated to the remote site. These projects and branches may be needed to keep a backup or slave server current.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, true, replicating everything.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicateprojectdeletions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicateprojectdeletions","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicateProjectDeletions")]),s("p",[e._v("If true, project deletions will also be replicated to the remote site.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, false, do *not* replicate project deletions.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-replicatehiddenprojects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-replicatehiddenprojects","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.replicateHiddenProjects")]),s("p",[e._v("If true, hidden projects will be replicated to the remote site.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, false, do *not* replicate hidden projects.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-mirror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-mirror","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.mirror")]),s("p",[e._v("If true, replication will remove remote branches that are absent locally or invisible to the replication (for example read access denied via authGroup option).")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("By default, false, do not remove remote branches.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"remote-name-remotenamestyle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-remotenamestyle","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.remoteNameStyle")]),s("p",[e._v("Provides possibilities to influence the name of the target repository, e.g. by replacing slashes in the "),s("code",[e._v("${name}")]),e._v(" placeholder.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('Github and Gitorious do not permit slashes "/" in repository\nnames and will change them to dashes "-" at repository creation\ntime.\n\nIf this setting is set to "dash", slashes will be replaced with\ndashes in the remote repository name. If set to "underscore",\nslashes will be replaced with underscores in the repository name.\n\nOption "basenameOnly" makes `${name}` to be only the basename\n(the part after the last slash) of the repository path on the\nGerrit server, e.g. `${name}` of `foo/bar/my-repo.git` would\nbe `my-repo`.\n\nBy default, "slash", i.e. remote names will contain slashes as\nthey do in Gerrit.\n')])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br")])]),s("h3",{attrs:{id:"remote-name-projects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-name-projects","aria-hidden":"true"}},[e._v("#")]),e._v(" remote.NAME.projects")]),s("p",[e._v("Specifies which repositories should be replicated to the remote. It can be provided more than once, and supports three formats: regular expressions, wildcard matching, and single project matching. All three formats match case-sensitive.")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Values starting with a caret `^` are treated as regular\nexpressions. `^foo/(bar|baz)` would match the projects\n`foo/bar`, and `foo/baz`. Regular expressions have to fully\nmatch the project name. So the above example would not match\n`foo/bar2`, while `^foo/(bar|baz).*` would.\n\nProjects may be excluded from replication by using a regular\nexpression with inverse match. `^(?:(?!PATTERN).)*$` will\nexclude any project that matches.\n\nValues that are not regular expressions and end in `*` are\ntreated as wildcard matches. Wildcards match projects whose\nname agrees from the beginning until the trailing `*`. So\n`foo/b*` would match the projects `foo/b`, `foo/bar`, and\n`foo/baz`, but neither `foobar`, nor `bar/foo/baz`.\n\nValues that are neither regular expressions nor wildcards are\ntreated as single project matches. So `foo/bar` matches only\nthe project `foo/bar`, but no other project.\n\nBy default, replicates without matching, i.e. replicates\neverything to all remotes.\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br")])]),s("h2",{attrs:{id:"file-secure-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-secure-config","aria-hidden":"true"}},[e._v("#")]),e._v(" File "),s("code",[e._v("secure.config")])]),s("p",[e._v("The optional file "),s("code",[e._v("$site_path/secure.config")]),e._v(" is a Git-style config file that provides secure values that should not be world-readable, such as passwords. Passwords for HTTP remotes can be obtained from this file.")]),s("p",[e._v("remote.NAME.username :\tUsername to use for HTTP authentication on this remote, if not given in the URL.")]),s("p",[e._v("remote.NAME.password :\tPassword to use for HTTP authentication on this remote.")]),s("h2",{attrs:{id:"file-ssh-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-ssh-config","aria-hidden":"true"}},[e._v("#")]),e._v(" File "),s("code",[e._v("~/.ssh/config")])]),s("p",[e._v("If present, Gerrit reads and caches ~/.ssh/config at startup, and supports most SSH configuration options. For example:")]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  Host host-one.example.com\n    IdentityFile ~/.ssh/id_hostone\n    PreferredAuthentications publickey\n\n  Host mirror*.us.some.org\n    User mirror-updater\n    IdentityFile ~/.ssh/id_pubmirror\n    PreferredAuthentications publickey\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("p",[e._v("Supported options:")]),s("ul",[s("li",[e._v("Host")]),s("li",[e._v("Hostname")]),s("li",[e._v("User")]),s("li",[e._v("Port")]),s("li",[e._v("IdentityFile")]),s("li",[e._v("PreferredAuthentications")]),s("li",[e._v("StrictHostKeyChecking")])]),s("p",[e._v("SSH authentication must be by passwordless public key, as there is no facility to read passphrases on startup or passwords during the SSH connection setup, and SSH agents are not supported from Java.")]),s("p",[e._v("Host keys for any destination SSH servers must appear in the user's "),s("code",[e._v("~/.ssh/known_hosts")]),e._v(" file, and must be added in advance, before Gerrit starts. If a host key is not listed, Gerrit will be unable to connect to that destination, and replication to that URL will fail.")])])}],!1,null,null,null);t.default=r.exports}}]);