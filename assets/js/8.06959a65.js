(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{308:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"content"},[s._m(0),s._m(1),s._m(2),s._m(3),a("p",[s._v("各参数配置含义可见：【你的系统】->【Documentation】->【Table of Contents】->【System Settings】，或网上"),a("a",{attrs:{href:"http://gerrit.aokp.co/Documentation/config-gerrit.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("别人的系统文档"),a("OutboundLink")],1),s._v("。")]),s._m(4),s._m(5),a("p",[s._v("以下示例文件配置了域名、数据库、下载命令、ldap登录、邮件、打印java日志、打印web请求日志、gitiles（需安装gitiles.jar插件）、代码合并方式改为rebase、链接识别（changeid、bugzilla、redmine、邮件）：")]),s._m(6),s._m(7),s._m(8),s._m(9)])},[function(){var s=this.$createElement,n=this._self._c||s;return n("h1",{attrs:{id:"系统配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统配置")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("本章讲述的是"),n("code",[this._v("$site_path/etc/xxx.config")]),this._v("的配置内容。该目录下配置了系统运行的各种参数，系统重启将会生效。")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("配置文件采用HJSON格式，这也是git配置文件采用的格式，因此你可以很方便的在"),n("code",[this._v("shell")]),this._v("中使用"),n("code",[this._v("git config")]),this._v("命令来设置值，如："),n("code",[this._v('git config -f "./gerrit.config" database.type "mysql"')]),this._v("，当然平时使用文本编辑器来修改配置值即可。文件格式大体如：")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gerrit"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        basePath = git\n        canonicalWebUrl = http"),a("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v("//localhost"),a("span",{attrs:{class:"token operator"}},[s._v(":")]),a("span",{attrs:{class:"token number"}},[s._v("8080")]),s._v("/gerrit/\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("database"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        type = mysql\n        hostname = localhost\n        database = reviewdb\n        username = gerrit\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"系统配置-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统配置-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统配置")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("系统配置项记录在"),n("code",[this._v("$site_path/etc/gerrit.config")]),this._v("文件中，该文件也可用于配置插件参数。")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[gerrit]\n        basePath = git\n        canonicalWebUrl = http://www.example.com/gerrit/\n        installCommitMsgHookCommand = curl -Lo .git/hooks/commit-msg www.example.com/gerrit/tools/hooks/commit-msg && chmod +x .git/hooks/commit-msg\n        reportBugUrl = mailto:xxx@163.com?cc=xxx@qq.com&subject=Gerrit feedback\n        reportBugText = Providing Feedback\n[database]\n        type = mysql\n        hostname = localhost\n        database = reviewdb\n        username = gerrit\n[download]\n        command = checkout\n        command = cherry_pick\n        command = pull\n        command = format_patch\n        scheme = ssh\n        scheme = repo_download\n[auth]\n#        type = DEVELOPMENT_BECOME_ANY_ACCOUNT\n        type = LDAP\n[ldap]\n        server = ldap://ldap.net:389/\n        groupBase = dc=groups,dc=net\n        accountBase = ou=auto,ou=Users,dc=groups,dc=net\n        accountBase = ou=Public,dc=groups,dc=net\n        accountPattern = (&(mail=${username}))\n        accountFullName = ${sn}${givenName}\n        accountEmailAddress = mail\n        username = cn=my_admin,ou=admin,dc=groups,dc=net\n        password = xxxxxxxx\n[user]\n        email = xxx@163.com\n[sendemail]\n#        enable = false\n        from = MIXED\n        smtpServer = smtp.xxx.com\n        smtpServerPort = 25\n        smtpUser = xxx@163.com\n        smtpPass = xxxxxxxxx\n[container]\n        user = gerrit\n        javaOptions = -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/home/gerrit/review_site/jvm_logs/gc_log -XX:CMSInitiatingOccupancyFraction=50 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection\n#        javaHome = /usr/lib/jvm/jdk1.8.0_161/jre\n#        heapLimit = 24g\n[sshd]\n#        threads = 64\n        listenAddress = *:29418\n[httpd]\n        requestLog = true\n#        maxThreads = 32\n        listenUrl = proxy-http://*:8080/gerrit/\n#        maxQueued = 150\n[cache]\n        directory = cache\n[cache "web_sessions"]\n        maxAge = 1month\n[receive]\n        timeout = 60min\n[gitweb]\n        linkname = gitiles\n        url = plugins/gitiles/\n        revision = ${project}/+/${commit}\n        project = ${project}\n        branch = ${project}/+/${branch}\n        filehistory = ${project}/+log/${branch}/${file}\n[repository "*"]\n        defaultSubmitType = REBASE_IF_NECESSARY\n[commentlink "changeid"]\n        match = (I[0-9a-f]{8,40})\n        link = "#q,$1,n,z"\n[commentlink "bugzilla"]\n        match = "(([Bb]ug|[Ff]ix):?\\\\s+#?)(\\\\d+)"\n        link = http://bugzilla.com:8000/show_bug.cgi?id=$3\n[commentlink "redmine"]\n        match = "([Ii]ssue:?\\\\s+#?)(\\\\d+)"\n        link = http://xxx.net/redmine/issues/$2\n[commentlink "email"]\n        match = ([0-9a-z]+@163.com)\n        link = mailto:$1\n[commitmessage]\n#        maxSubjectLength = 65\n#        maxLineLength = 70\n        rejectTooLong = false\n[index]\n        type = LUCENE\n[addreviewer]\n        maxAllowed = 30\n\n')])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"保密配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#保密配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 保密配置")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[n("code",[this._v("$site_path'/etc/secure.config")]),this._v("配置文件将覆盖"),n("code",[this._v("$site_path'/etc/gerrit.config")]),this._v("的配置，该文件应该是只读的，用于配置密码等敏感信息。示例：")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[auth]\n  registerEmailPrivateKey = 2zHNrXE2bsoylzUqDxZp0H1cqUmjgWb6\n\n[database]\n  username = webuser\n  password = s3kr3t\n\n[ldap]\n  password = l3tm3srch\n\n[httpd]\n  sslKeyPassword = g3rr1t\n\n[sendemail]\n  smtpPass = sp@m\n\n[remote "bar"]\n  password = s3kr3t\n')])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])}],!1,null,null,null);n.default=t.exports}}]);